<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rizky & Sinar - Wedding Invitation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <audio id="backgroundMusic" src="music/tiara-andini.MP3" loop></audio>

    <div class="h-screen flex items-center justify-center bg-cover bg-left sm:bg-center"
        style="background-image: url('img/bggggg.png');">
        <div class="w-full h-full flex items-center justify-center gradient-overlay px-4">

            <!-- Content Container -->
            <div class="flex flex-col gap-12 text-white text-center max-w-screen-md mx-auto px-4">

                <!-- Wedding Date -->
                <div class="text-center text-lg md:text-xl font-kaisei tracking-wide animasii">
                    <span class="block text-2xl md:text-3xl">27 • 12 • 2024</span>
                </div>

                <!-- Bride and Groom Names (Image) -->
                <div class="flex justify-center animasii">
                    <img src="img/name-big.png" alt="Rizky and Sinar" class="w-3/4 md:w-1/2 max-w-full h-auto">
                </div>

                <!-- Quran Verse -->
                <div>
                    <div class="text-sm md:text-base text-center md:mt-6 italic px-2">
                        “Di antara tanda-tanda (kebesaran)-Nya ialah bahwa Dia menciptakan pasangan-pasangan untukmu
                        dari
                        (jenis) dirimu sendiri agar kamu merasa tenteram kepadanya. Dia menjadikan di antaramu rasa
                        cinta
                        dan kasih sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda
                        (kebesaran
                        Allah) bagi kaum yang berpikir.”
                    </div>

                    <!-- Quran Surah Reference -->
                    <div class="text-sm md:text-base text-center mt-2 px-2">
                        QS Ar-Rum Ayat 21
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Bride and Groom Section -->
    <section class="w-full py-12 bg-cover bg-center" style="background-image: url('img/bg-2.png');">
        <div class="text-center max-w-screen-md mx-auto py-28 px-4 flex flex-col gap-14">
            <!-- Title -->
            <h2 class="text-2xl md:text-3xl font-kaisei text-[#0C1C27] animasii">Kedua Mempelai</h2>

            <!-- Bride and Groom Profiles -->
            <div class="flex flex-col md:flex-row justify-center items-center gap-10 md:gap-20 mt-8">

                <!-- Groom Profile -->
                <div class="text-center space-y-2">
                    <div class="w-48 h-48 rounded-full overflow-hidden mx-auto animasii">
                        <img src="img/cowo.png" alt="Groom Photo" class="w-full h-full object-cover">
                    </div>
                    <h3 class="text-lg font-semibold animasii">Nakhoda Rizky Putra Samudra, S.Kep., Ns.</h3>
                    <div class="flex flex-col gap-0 animasii">
                        <p class="text-sm">Putra</p>
                        <p>Bpk. Edy Handayani, S.H.</p>
                        <p>&</p>
                        <p>Ibu (Almh.) Neti Utaminig Asah</p>
                    </div>
                </div>

                <!-- Bride Profile -->
                <div class="text-center space-y-2">
                    <div class="w-48 h-48 rounded-full overflow-hidden mx-auto animasii">
                        <img src="img/cewe.png" alt="Bride Photo" class="w-full h-full object-cover">
                    </div>
                    <h3 class="text-lg font-semibold animasii">Sinar Hernansyah</h3>
                    <div class="flex flex-col gap-0 animasii">
                        <p class="text-sm">Putri</p>
                        <p>Bpk. Fajar Haryanta</p>
                        <p>&</p>
                        <p>Ibu Paryani</p>
                    </div>
                </div>

            </div>
        </div>
    </section>


    <!-- Section Akad Nikah dan Resepsi -->
    <section class="py-20 text-center bg-white">
        <div class="flex flex-col md:flex-row justify-center gap-20 px-8">
            <!-- Akad Nikah -->
            <div>
                <h2 class="text-2xl md:text-3xl font-kaisei text-[#0C1C27] mb-8 animasii">AKAD NIKAH</h2>
                <p class="text-lg font-medium animasii">08.00 WIB</p>
                <p class="text-lg font-medium animasii">Jumat Pon, 27 Desember 2024</p>
                <p class="mt-2 animasii">Masjid Raya Sheikh Zayed Solo</p>
                <a href="https://maps.app.goo.gl/F2XRrJUWQijhsYVu9" class="animasii" target="_blank">
                    <button class="mt-4 px-6 py-2 bg-gray-800 text-white rounded-full hover:bg-gray-600">View On
                        Map</button>
                </a>
            </div>
            <!-- Resepsi -->
            <div>
                <h2 class="text-2xl md:text-3xl font-kaisei text-[#0C1C27] mb-8 animasii">RESEPSI</h2>
                <p class="text-lg font-medium animasii">09.30 WIB</p>
                <p class="text-lg font-medium animasii">Minggu Kliwon, 29 Desember 2024</p>
                <p class="mt-2 animasii">Gedung Graha Sabat</p>
                <a href="https://maps.app.goo.gl/oaTdhUU5RzFUbDMW8" class="animasii" target="_blank">
                    <button class="mt-4 px-6 py-2 bg-gray-800 text-white rounded-full hover:bg-gray-600">View On
                        Map</button>
                </a>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="py-20 bg-gray-50">
        <div class="text-center mb-12">
            <h2 class="text-2xl md:text-3xl font-kaisei text-[#0C1C27] animasii">Gallery</h2>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 px-8">
            <!-- Ganti dengan foto gallery Anda -->
            <img src="img/IMG_0506.jpg" alt="Photo 1" class="w-full h-64 object-cover rounded-lg animasii">
            <img src="img/IMG_0525.jpg" alt="Photo 2" class="w-full h-64 object-cover rounded-lg animasii">
            <img src="img/IMG_0697.jpg" alt="Photo 3" class="w-full h-64 object-cover rounded-lg animasii">
            <img src="img/IMG_0763.jpg" alt="Photo 4" class="w-full h-64 object-cover rounded-lg animasii">
            <img src="img/IMG_0806.jpg" alt="Photo 5" class="w-full h-64 object-cover rounded-lg animasii">
            <img src="img/IMG_0915.jpg" alt="Photo 6" class="w-full h-64 object-cover rounded-lg animasii">
        </div>
    </section>

    <!-- Countdown Section -->
    <section class="py-20 bg-white text-center">
        <h2 class="text-2xl md:text-3xl font-kaisei text-[#0C1C27] mb-8 animasii">Countdown</h2>
        <div class="flex justify-center space-x-8 text-2xl font-semibold animasii">
            <div>
                <p id="days">00</p>
                <p class="text-sm">Hari</p>
            </div>
            <div>
                <p id="hours">00</p>
                <p class="text-sm">Jam</p>
            </div>
            <div>
                <p id="minutes">00</p>
                <p class="text-sm">Menit</p>
            </div>
            <div>
                <p id="seconds">00</p>
                <p class="text-sm">Detik</p>
            </div>
        </div>
    </section>

    <!-- Section Ucapan & Doa -->
    <section class="py-20 bg-gray-50 text-center">
        <h2 class="text-2xl md:text-3xl font-kaisei text-[#0C1C27] mb-8 animasii">Ucapan & Doa</h2>
        <div class="max-w-md mx-auto px-8 animasii" id="commentForm">
            <input type="text" id="name" placeholder="Nama" class="w-full px-4 py-2 mb-4 border rounded" required>
            <div id="charCount" class="text-gray-500 text-sm">Maksimal 200 karakter</div>
            <textarea id="message" placeholder="Ucapan" class="w-full px-4 py-2 mb-4 border rounded"
                required></textarea>

            <select id="attendance" class="w-full px-4 py-2 mb-4 border rounded">
                <option value="Hadir">Hadir</option>
                <option value="Tidak Hadir">Tidak Hadir</option>
            </select>
            <button onclick="submitComment()" class="w-full px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-600">
                Kirim
            </button>
        </div>

        <!-- Comments List -->
        <div class="flex flex-col justify-self-center gap-4 px-8 mt-8" id="commentsList">

            <!-- <div
                class="h-48 w-80 border border-solid border-gray-300 rounded-lg text-left py-6 px-7 flex flex-col justify-between">
                <div class="mb-8">
                    <p class="font-kaisei font-bold text-xl">Nama</p>
                    <p class="text-base text-gray-500">Pesan Pesan pesan Pesan Pesan pesanPesan Pesan pesanPesan Pesan
                        pesanPesan Pesan pesanPesan Pesan pesanPesan Pesan pesanPesan Pesan pesanPesan Pesan pesanPesan
                        Pesan pesanPesan Pesan pesan</p>
                </div>

                <div>
                    <p class="font-medium">Hadir</p>
                    <p class="text-sm text-gray-500">tanggal</p>
                </div>
            </div> -->
        </div>


    </section>

    <!-- Footer -->
    <footer class="py-8 bg-gray-800 text-center text-white flex flex-col align-center justify-center gap-8">
        <img src="img/name-big.png" alt="" class="w-24 mx-auto">
        <p class="mt-2 mb-4 px-12">Wujudkan hari bahagia Anda lebih istimewa dan berkesan. klik disini untuk mendapatkan undangan pernikahan yang menarik</p>
        <div class="flex gap-2 justify-center align-center">
            <a href="https://api.whatsapp.com/send?phone=6289613000204"><img src="img/wa.png" alt=""></a>
            <a href="https://www.instagram.com/advis.pictures/"><img src="img/ig.png" alt=""></a>
            
            
        </div>
        <p>© 2024 Advis Picture. All rights reserved.</p>
    </footer>

    <div id="musicControlButton" onclick="toggleMusic()"
        class="fixed bottom-5 right-5 bg-black bg-opacity-60 text-white rounded-full p-3 cursor-pointer z-50 flex items-center justify-center">
        ⏸️ <!-- Ikon Pause secara default -->
    </div>
    <!-- Countdown Script -->
    <script>

        const messageTextarea = document.getElementById('message');
        const charCountDisplay = document.getElementById('charCount');

        messageTextarea.addEventListener('input', () => {
            const currentLength = messageTextarea.value.length;
            if (currentLength > 200) {
                messageTextarea.value = messageTextarea.value.substring(0, 200); // Limit to 200 characters
            }
            charCountDisplay.innerText = `Maksimal ${200 - messageTextarea.value.length} karakter tersisa`;
        });

        const countdown = () => {
            const countDate = new Date('December 27, 2024 08:00:00').getTime();
            const now = new Date().getTime();
            const gap = countDate - now;

            const second = 1000;
            const minute = second * 60;
            const hour = minute * 60;
            const day = hour * 24;

            document.getElementById('days').innerText = Math.floor(gap / day);
            document.getElementById('hours').innerText = Math.floor((gap % day) / hour);
            document.getElementById('minutes').innerText = Math.floor((gap % hour) / minute);
            document.getElementById('seconds').innerText = Math.floor((gap % minute) / second);
        };

        setInterval(countdown, 1000);

        const backgroundMusic = document.getElementById("backgroundMusic");
        const musicControlButton = document.getElementById("musicControlButton");

        window.addEventListener("load", () => {
            backgroundMusic.play();
        });

        function toggleMusic() {
            if (backgroundMusic.paused) {
                backgroundMusic.play();
                musicControlButton.innerHTML = "⏸️";
            } else {
                backgroundMusic.pause();
                musicControlButton.innerHTML = "▶️";
            }
        }


        function formatDate(dateString) {
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            const date = new Date(dateString);
            return date.toLocaleDateString('id-ID', options); // 'id-ID' for Indonesian format
        }
        // Display comments
        function displayComments(comments) {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = ''; // Clear existing comments
            comments.forEach(comment => {
                const commentElement = document.createElement('div');

                commentElement.innerHTML = `
                <div class="border border-solid border-gray-300 rounded-lg text-left py-6 px-7 flex flex-col justify-between animasii">
                    <div class="mb-8">
                        <p class="font-kaisei font-bold text-xl">${comment.name}</p>
                        <p class="text-base text-gray-500 pesanini">${comment.message}</p>
                    </div>

                    <div>
                        <p class="font-medium">${comment.attendance}</p>
                        <p class="text-sm text-gray-500">${formatDate(comment.createdAt)}</p>
                    </div>
                </div>
        `;
                commentsList.appendChild(commentElement);
            });
        }

        // Load latest comments on page load
        async function loadComments() {
            const response = await fetch('http://localhost:5000/comments/all');
            const comments = await response.json();
            displayComments(comments);
        }

        // Submit new comment
        async function submitComment() {
            const name = document.getElementById('name').value;
            const message = document.getElementById('message').value;
            const attendance = document.getElementById('attendance').value;

            if (!name || !message) {
                alert('Nama dan Ucapan tidak boleh kosong');
                return;
            }

            await fetch('http://localhost:5000/comment', { // Ensure the correct endpoint
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, message, attendance })
            });

            document.getElementById('name').value = '';
            document.getElementById('message').value = '';
            document.getElementById('attendance').value = 'Hadir';

            loadComments(); // Load comments after submission
        }

        // Load all comments when "Lihat Semua Ucapan" is clicked
        async function loadAllComments() {
            const response = await fetch('http://localhost:5000/comments/all');
            const comments = await response.json();
            displayComments(comments);
        }

        // Load latest comments on page load
        window.onload = loadComments;
    </script>

</body>

</html>